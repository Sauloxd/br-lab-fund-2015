;***** constantes *****
4000 0000 ; "h0000<"		;	h0000 <
4001 0000 ; "h0001<"		;	h0001 <
4002 0000 ; "h0002<"		;	h0002 <
4003 0000 ; "h0100<"		;	h0100 <
4004 0000 ; "hFF00<"		;	hFF00 <
4005 0000 ; "hFFFF<"		;	hFFFF <
4006 0000 ; "AmLoad<"		;	AmLoad <
4007 0000 ; "AmDownload<"		;	AmDownload <

;***** variaveis para PACK() *****
2000 0000 ; "PACK>"		;	PACK    >
4008 0000 ; "packA<"		;	packA   <
4009 0000 ; "packB<"		;	packB   <  

;***** variaveis para UNPACK() *****
200a 0000 ; "UNPACK>"		;	UNPACK  >
4010 0000 ; "unpackA<"		;	unpackA <
4011 0000 ; "unpackB<"		;	unpackB <
4012 0000 ; "temp<"		;	temp <

				;	& /0000
;**************************** PACK() ***************************************;
8000 0000		;	PACK      $ /0001   0
				;	PACK      $ /0001
d002 8008		;	          LD packA ;Carrega no acc <- packA
d004 6003		;	          *  h0100    ; multiplca por h0100
d006 4009		;	          +  packB
a008 b000		;	          RS PACK

;*************************** UNPACK() **************************************;
800a 0000		;	UNPACK    $  /0001   0
				;	UNPACK    $  /0001
d00c 9012		;	          MM temp   ;guarda no temp
d00e 6003		;	          *  h0100    ;shift de 2 bytes para esquerda
d010 7003		;	          /  h0100    ;shift de 2 bytes para direita
a012 2018		;	          JN casoNeg ;caso negativo jmp para casoNEG
d014 9011		;	          MM unpackB
a016 001c		;	          JP parteA ;continua para pegar a primeira parte da palavra
d018 5004		;	casoNeg   - hFF00
d01a 9011		;	          MM unpackB
d01c 8012		;	parteA    LD temp
d01e 5011		;	          - unpackB
d020 7003		;	          / h0100
a022 2028		;	          JN casoNeg2 ;caso negativo
d024 9010		;	          MM unpackA
a026 002c		;	          JP fimSubRotina
d028 5004		;	casoNeg2  - hFF00
d02a 9010		;	          MM unpackA
a02c b00a		;	fimSubRotina  RS UNPACK


